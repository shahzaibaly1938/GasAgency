{% extends 'base.html' %}

{% block content %}
<div class="min-h-screen bg-[var(--background)] py-8 px-2 md:px-8 flex items-center justify-center">
  <div class="w-full max-w-md bg-[var(--box_background)] rounded-xl shadow-lg p-6">
    <h2 class="text-2xl font-bold text-[var(--primary)] mb-6 tracking-wide text-center">Edit Expense</h2>
    <form method="POST" class="space-y-5">
      {% csrf_token %}
      <div>
        <label class="block text-[var(--primary)] font-medium mb-1" for="name">Expense Name</label>
        <input type="text" name="name" id="name" maxlength="100" required
          class="w-full px-4 py-2 rounded-lg border border-[var(--primary)] bg-white text-[var(--text_primary)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] transition"
          placeholder="Expense Name" value="{{ expense.name }}">
      </div>
      <div>
        <label class="block text-[var(--primary)] font-medium mb-1" for="category">Category</label>
        <select name="category" id="category" required
          class="w-full px-4 py-2 rounded-lg border border-[var(--primary)] bg-white text-[var(--text_primary)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] transition">
          <option value="{{ expense.category.id }}">{{ expense.category }}</option>
          {% for cat in categories %}
            <option value="{{ cat.id }}">{{ cat }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="block text-[var(--primary)] font-medium mb-1" for="amount">Amount</label>
        <input type="number" name="amount" id="amount" min="0" step="0.01" required
          class="w-full px-4 py-2 rounded-lg border border-[var(--primary)] bg-white text-[var(--text_primary)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] transition"
          placeholder="Amount" value="{{ expense.amount }}">
      </div>
      <div>
        <label class="block text-[var(--primary)] font-medium mb-1" for="date">Date</label>
        <input type="date" name="date" id="date" required value="{{ expense.date|date:'Y-m-d' }}"
          class="w-full px-4 py-2 rounded-lg border border-[var(--primary)] bg-white text-[var(--text_primary)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] transition">
      </div>
      <div>
        <label class="block text-[var(--primary)] font-medium mb-1" for="notes">Notes</label>
        <textarea name="description" id="notes" rows="3"
          class="w-full px-4 py-2 rounded-lg border border-[var(--primary)] bg-white text-[var(--text_primary)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] transition"
          placeholder="Notes (optional)">{{ expense.description }}</textarea>
      </div>
      <div class="flex justify-between mt-4">
        <a href="{% url 'expense' %}" class="bg-[var(--box_background)] hover:bg-[var(--secondary)] text-[var(--primary)] hover:text-[var(--text_secondary)] border border-[var(--text_secondary)] font-semibold px-6 py-2 rounded-lg shadow transition">
        Back to Expenses
      </a>
        <button type="submit"
          class="bg-[var(--primary)] hover:bg-[var(--secondary)] text-[var(--text_secondary)] font-semibold px-8 py-2 rounded-lg shadow transition">
          Update Expense
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}